package io.github.aaronreidsmith.year2019

import io.github.aaronreidsmith.{BaseTest, using}

class Day20Test extends BaseTest {
  "Day20.part1" should "work on actual input" in {
    val input = Day20.parseInput(
      """                   A
        |                   A
        |  #################.#############
        |  #.#...#...................#.#.#
        |  #.#.#.###.###.###.#########.#.#
        |  #.#.#.......#...#.....#.#.#...#
        |  #.#########.###.#####.#.#.###.#
        |  #.............#.#.....#.......#
        |  ###.###########.###.#####.#.#.#
        |  #.....#        A   C    #.#.#.#
        |  #######        S   P    #####.#
        |  #.#...#                 #......VT
        |  #.#.#.#                 #.#####
        |  #...#.#               YN....#.#
        |  #.###.#                 #####.#
        |DI....#.#                 #.....#
        |  #####.#                 #.###.#
        |ZZ......#               QG....#..AS
        |  ###.###                 #######
        |JO..#.#.#                 #.....#
        |  #.#.#.#                 ###.#.#
        |  #...#..DI             BU....#..LF
        |  #####.#                 #.#####
        |YN......#               VT..#....QG
        |  #.###.#                 #.###.#
        |  #.#...#                 #.....#
        |  ###.###    J L     J    #.#.###
        |  #.....#    O F     P    #.#...#
        |  #.###.#####.#.#####.#####.###.#
        |  #...#.#.#...#.....#.....#.#...#
        |  #.#####.###.###.#.#.#########.#
        |  #...#.#.....#...#.#.#.#.....#.#
        |  #.###.#####.###.###.#.#.#######
        |  #.#.........#...#.............#
        |  #########.###.###.#############
        |           B   J   C
        |           U   P   P
        |""".stripMargin.asSource
    )
    Day20.part1(input) shouldBe 58
  }

  "Day20.part2" should "work on actual input" in {
    val input = Day20.parseInput(
      """             Z L X W       C
        |             Z P Q B       K
        |  ###########.#.#.#.#######.###############
        |  #...#.......#.#.......#.#.......#.#.#...#
        |  ###.#.#.#.#.#.#.#.###.#.#.#######.#.#.###
        |  #.#...#.#.#...#.#.#...#...#...#.#.......#
        |  #.###.#######.###.###.#.###.###.#.#######
        |  #...#.......#.#...#...#.............#...#
        |  #.#########.#######.#.#######.#######.###
        |  #...#.#    F       R I       Z    #.#.#.#
        |  #.###.#    D       E C       H    #.#.#.#
        |  #.#...#                           #...#.#
        |  #.###.#                           #.###.#
        |  #.#....OA                       WB..#.#..ZH
        |  #.###.#                           #.#.#.#
        |CJ......#                           #.....#
        |  #######                           #######
        |  #.#....CK                         #......IC
        |  #.###.#                           #.###.#
        |  #.....#                           #...#.#
        |  ###.###                           #.#.#.#
        |XF....#.#                         RF..#.#.#
        |  #####.#                           #######
        |  #......CJ                       NM..#...#
        |  ###.#.#                           #.###.#
        |RE....#.#                           #......RF
        |  ###.###        X   X       L      #.#.#.#
        |  #.....#        F   Q       P      #.#.#.#
        |  ###.###########.###.#######.#########.###
        |  #.....#...#.....#.......#...#.....#.#...#
        |  #####.#.###.#######.#######.###.###.#.#.#
        |  #.......#.......#.#.#.#.#...#...#...#.#.#
        |  #####.###.#####.#.#.#.#.###.###.#.###.###
        |  #.......#.....#.#...#...............#...#
        |  #############.#.#.###.###################
        |               A O F   N
        |               A A D   M
        |""".stripMargin.asSource
    )
    Day20.part2(input) shouldBe 396
  }
}
